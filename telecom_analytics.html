<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Telecommunication Analytics &#8212; Asap 0.0 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Guidelines for bootstraping ASAP cluster and running the WIND use case" href="guidelines.html" />
    <link rel="prev" title="Swan Operators" href="swan.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="telecommunication-analytics">
<h1>Telecommunication Analytics<a class="headerlink" href="#telecommunication-analytics" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>The goal of WIND was to design and implement a new application to take better advantage of</dt>
<dd><p class="first">the new big data approach for mobile applications. The ASAP telecommunications application
will show how a number of analytical services describing the mobility of people can be created
on the basis of the data collected by the mobile network during routine operation. The data we
consider in the following is the call data records (CDR). For example a call started in a spatial
cell1 and ended in another spatial cell2 will result in a single row in the log as follows: &lt;id32876, 10/10/2015 10:00:00, 5:00, Cell_1, Cell_2, VOICE&gt;
containing the id of the user, the type of the event, when the event started, the initial cell, the
end cell and the duration. Over this data Wind developed three workflows for three applications:</p>
<blockquote class="last">
<div><ul class="simple">
<li>Tourism Analysis: The analysis of tourism fluxes highlighting the mobility of a
specific kind of users (Visitors) and their seasonality.</li>
<li>Event Detection analysis: detecting events in a specific area analyzing the different
kind of users involved and their origins.</li>
<li>Car Sharing: Analyzing the systematic movements of users (Commuters) as base for a car
sharing recommendation system.</li>
</ul>
</div></blockquote>
</dd>
</dl>
<p>These three applications are realized by means of six basic modules which as shown below:</p>
<img alt="_images/CS.png" src="_images/CS.png" />
<img alt="_images/TA.png" src="_images/TA.png" />
<img alt="_images/ED.png" src="_images/ED.png" />
<p>Exception made for the Data Loading Module which has the aim of transferring data from Wind servers to ASPA cluster,
in the following sections we will describe these six modules and how to execute them.</p>
</div>
<div class="section" id="sociometer">
<h2>Sociometer<a class="headerlink" href="#sociometer" title="Permalink to this headline">¶</a></h2>
<p>It classifies the users using the presence of cellphone users. In particular, it identifies
residents, commuters and visitors. K-means identifies the representative profiles, which
are then labeled with the mobility behavior categories just described. Several profiles
might be associated to the same category, basically representing different facets of the
same class of users. The classification phase assigns each spatio-temporal user’s profile
to the closest representative profile based on a proper distance measure. The output is
the semantic enrichment of the set of users with tags representing the classification for
each user. In ASAP platform this module is composed by three task: User Profiling, K-Means,
Classification.</p>
<div class="section" id="user-profiling">
<h3>User Profiling<a class="headerlink" href="#user-profiling" title="Permalink to this headline">¶</a></h3>
<p>The spatio temporal profile is an aggregated representation of the presence of a user in a
certain area of interest during different predefined timeslots. This profile is constructed
starting from the CDR data and with reference to a particular spatial representation. The
CDR spatial coverage describes the distribution of the antennas used by the mobile
telecommunications operator on the territory, which can be used to estimate the corresponding
coverage. A spatio temporal profile codes the presence of a user in the area of interest
in a particular time (or time-slot) identified by the information in the CDR. A spatio-temporal
profile codes the presence of a user in the area of interest in a particular time (or time-slot)
identified by the information in the CDR. The idea is that if a person makes a call in the area A
at time t, it means that he is present in that area at that time.</p>
</div>
<div class="section" id="run-user-profiling-sub-module">
<h3>Run User Profiling sub-module<a class="headerlink" href="#run-user-profiling-sub-module" title="Permalink to this headline">¶</a></h3>
<p>Run: $SPARK_HOME/bin/spark-submit user_profiling.py &lt;dataset path&gt; &lt;spatial region file&gt; &lt;format file&gt; &lt;format date&gt; &lt;area identifier&gt;</p>
<p>Parameter:
dataset path: path on hdfs where the dataset is located
spatial region file: csv files with the association GSM antenna &#8211;&gt; spatial region
field2col: file containing the format of the csv files composing the dataset
format date: the date format (according to python datetime module) of the cdr
area identifier: a string used to name the results files</p>
<dl class="docutils">
<dt>Output: profiles will be saved in this path: /profiles/&lt;area identifier&gt;-&lt;year&gt;_&lt;week&gt;. Week is the first week of the corresponding</dt>
<dd>4 weeks block analyzed. These two parameters are computed inside the script, by scanning all the dataset and assigning each file to the
corresponding week.</dd>
</dl>
</div>
<div class="section" id="typical-profiles-computation-clustering-centroids-extractions-and-classification">
<h3>Typical profiles computation (clustering, centroids extractions and classification)<a class="headerlink" href="#typical-profiles-computation-clustering-centroids-extractions-and-classification" title="Permalink to this headline">¶</a></h3>
<p>To group users according to their spatio-temporal profile, looking for typical profiles,
we use k-means clustering algorithm. We aim to group users into 100 groups (k=100), and we use
euclidean distance to compare two profiles. Once found typical profiles, we compare them with
a set of labeled stereotypes, representing the typical behaviors for each user category we are
interested to. As an instance, the typical profile of a resident user in particular area would
require the user to make calls from that area everyday at every possible time.</p>
</div>
<div class="section" id="run-profiles-computation">
<h3>Run Profiles Computation<a class="headerlink" href="#run-profiles-computation" title="Permalink to this headline">¶</a></h3>
<p>Run:   $SPARK_HOME/bin/spark-submit clustering.py &lt;dataset path&gt; &lt;area identifier&gt;</p>
<p>Parameter:
dataset path: path on hdfs where the dataset is located
area identifier: the string used during the profiling step.</p>
<p>Output:
The script loads all the profiles, for each block of 4 weeks,
clusters them, finds the centroids, assign a label to each centroid and save them to the HDFS path /centroids/&lt;area identifier&gt;-&lt;year&gt;_&lt;week&gt;</p>
</div>
<div class="section" id="users-classification">
<h3>Users Classification<a class="headerlink" href="#users-classification" title="Permalink to this headline">¶</a></h3>
<p>The typical profiles computation returns a set of profiles with their relative label. So, we
now need to assign the proper label to each one of the the user profile, for each one of the areas
she visited.</p>
</div>
<div class="section" id="run-users-classification">
<h3>Run Users Classification<a class="headerlink" href="#run-users-classification" title="Permalink to this headline">¶</a></h3>
<p>$SPARK_HOME/bin/spark-submit stereo_type_classification.py &lt;dataset path&gt; &lt;area identifier&gt;</p>
<p>Parameter:
dataset path: path on hdfs where the dataset is located
area identifier: the string used during the profiling step. The script loads all the profiles, assign each profile
to the nearest centroids and save users label.</p>
<p>Output:
-user annotation, saved on /annotation/&lt;area identifier&gt;-&lt;year&gt;_&lt;week&gt;
-area presence composition: saved on local file system, on ./results/sociometer-&lt;area identifier&gt;-&lt;year&gt;_&lt;week&gt;.csv</p>
<p>Users labeling:</p>
<p>Next use cases take advantage of users labeling made from Sociometer. Hence, we provide a script to get
a csv file with data in the format (user_id,area)-&gt; label</p>
</div>
<div class="section" id="run-users-labeling">
<h3>Run Users labeling<a class="headerlink" href="#run-users-labeling" title="Permalink to this headline">¶</a></h3>
<p>Run :
$HADOOP_HOME/bin/hadoop fs -get /annotation/&lt;area identifier&gt; .
cat annotation-&lt;area identifier&gt;/part* &gt; user_annotation.csv</p>
</div>
</div>
<div class="section" id="peak-detection">
<h2>Peak Detection<a class="headerlink" href="#peak-detection" title="Permalink to this headline">¶</a></h2>
<p>This analysis detects relevant peaks representing an event. This is achieved by comparing the
density of population (measured in calls) within a region in a given moment against the expected density
for that area at that hour of the day. The overall analysis is decomposed in two sub tasks: the Timeseries
Computation and the Anomalies Detection. Timeseries for each area and user category are the baseline
to define the expected presences for each time-slot. Then, each datapoint, that is the hourly presence at a given
time for a given category in a certain area, is compared among the expected hourly presence.</p>
<div class="section" id="run-peak-detection">
<h3>Run Peak Detection<a class="headerlink" href="#run-peak-detection" title="Permalink to this headline">¶</a></h3>
<p>Run:
$SPARK_HOME/bin/spark-submit presence.py &lt;region of interest&gt; &lt;user label annotation&gt;</p>
<p>Parameter:
&lt;region of interest&gt; : a mapping in the form of antenna : region of interest
&lt;user label annotation&gt; : the user2label.csv computed previously</p>
</div>
</div>
<div class="section" id="o-d-matrices">
<h2>O/D Matrices<a class="headerlink" href="#o-d-matrices" title="Permalink to this headline">¶</a></h2>
<p>Based on the result of the sociometer it is possible to build a matrix of flows considering
the as “home” the area where a user is classified as Resident or dynamic Resident.</p>
<div class="section" id="run-o-d-matrices">
<h3>Run O/D Matrices<a class="headerlink" href="#run-o-d-matrices" title="Permalink to this headline">¶</a></h3>
<p>Run:  $SPARK_HOME/bin/spark-submit od.py &lt;region of interest&gt; &lt;user label annotation&gt;</p>
<blockquote>
<div>Parameter:
&lt;region of interest&gt; : a mapping in the form of antenna : region of interest
&lt;user label annotation&gt; : the user2label.csv computed previously</div></blockquote>
</div>
</div>
<div class="section" id="matching-process">
<h2>Matching Process<a class="headerlink" href="#matching-process" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>The matching process is a visual analytic module, which is a standard module  of ASAP platform.
In fact it is realized by an aggregation of the results obtained by the Sociometer and the
O/D Matrix with a lower granularity (morning, afternoon, evening, night). In this way each
user will be profiled in terms of their movement between first and second most frequent locations.
Then a graph is build considering this information to link two users. At this point the
visual graph analytic is able to discover communities, or check for each user which are
the possible candidates for car sharing. Those analytical tools for graph are available
also in Mllib and than are easy to use in the platform.</div></blockquote>
</div>
<div class="section" id="publishing-module">
<h2>Publishing Module<a class="headerlink" href="#publishing-module" title="Permalink to this headline">¶</a></h2>
<p>This module is responsible of sending data to the WebLyzard  platform, it makes only data
format transformation and communication.</p>
<div class="section" id="run-publishing-module">
<h3>Run Publishing module<a class="headerlink" href="#run-publishing-module" title="Permalink to this headline">¶</a></h3>
<p>Sociometer publishing: python socio_publisher.py &lt;area_identifier&gt;
Peak detection publishing: python presence_publisher.py &lt;area_identifier&gt;
O/D matrices: python od_publisher.py &lt;area_identifier&gt;</p>
<p>Then, data need to be uploaded to weblyzard platform with:
python sociometer_uploader.py</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Telecommunication Analytics</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#sociometer">Sociometer</a><ul>
<li><a class="reference internal" href="#user-profiling">User Profiling</a></li>
<li><a class="reference internal" href="#run-user-profiling-sub-module">Run User Profiling sub-module</a></li>
<li><a class="reference internal" href="#typical-profiles-computation-clustering-centroids-extractions-and-classification">Typical profiles computation (clustering, centroids extractions and classification)</a></li>
<li><a class="reference internal" href="#run-profiles-computation">Run Profiles Computation</a></li>
<li><a class="reference internal" href="#users-classification">Users Classification</a></li>
<li><a class="reference internal" href="#run-users-classification">Run Users Classification</a></li>
<li><a class="reference internal" href="#run-users-labeling">Run Users labeling</a></li>
</ul>
</li>
<li><a class="reference internal" href="#peak-detection">Peak Detection</a><ul>
<li><a class="reference internal" href="#run-peak-detection">Run Peak Detection</a></li>
</ul>
</li>
<li><a class="reference internal" href="#o-d-matrices">O/D Matrices</a><ul>
<li><a class="reference internal" href="#run-o-d-matrices">Run O/D Matrices</a></li>
</ul>
</li>
<li><a class="reference internal" href="#matching-process">Matching Process</a></li>
<li><a class="reference internal" href="#publishing-module">Publishing Module</a><ul>
<li><a class="reference internal" href="#run-publishing-module">Run Publishing module</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="swan.html" title="previous chapter">Swan Operators</a></li>
      <li>Next: <a href="guidelines.html" title="next chapter">Guidelines for bootstraping ASAP cluster and running the WIND use case</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/telecom_analytics.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Asap consortium.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.5.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/telecom_analytics.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>